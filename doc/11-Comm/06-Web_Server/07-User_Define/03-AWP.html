<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>AWP 命令</title>
<link href="mnp.css" rel="stylesheet" type="text/css" />
</head>

<body>
<h3>S7-1200 Web 服务器支持的 AWP 命令</h3>
<p>S7-1200 Web 服务器提供了以 HTML 注释形式嵌入用户定义的 Web 页面中的 AWP 命令，这些命令具有以下用途： </p>
<ul>
  <li>读取变量 </li>
  <li>写入变量 </li>
  <li>读取特殊变量 </li>
  <li>写入特殊变量 </li>
  <li>定义枚举类型</li>
  <li>为枚举类型分配变量</li>
  <li>创建片段数据块</li>
</ul>
<p>本文档只介绍最常用的读取和写入变量，其他命令使用请参见<a href="../../../01-resource/03-online_doc.htm#a">系统手册</a>，&ldquo;用户定义的 Web 页面&rdquo;章节。</p>
<h4>1. 一般语法</h4>
<p>除读取变量的命令之外，AWP 命令的语法如下：</p>
<p>&lt;!-- AWP_ &lt;command name and parameters&gt; --&gt; </p>
<p>AWP 命令与典型的 HTML 表单命令一起使用时，可将变量写入 CPU。介绍 AWP 命令时采用如下惯例：</p>
<ul>
  <li>方括号 [ ] 中包含的项为可选项。</li>
  <li>尖括号 &lt; &gt; 中包含的项是要指定的参数值。</li>
  <li>引号是命令的文字部分。 它们必须按所示的形式出现。</li>
  <li>根据具体用法，变量或数据块名称中的特殊字符必须进行转义或用引号括号来。</li>
</ul>使用文本编辑器或 HTML 编辑模式可将 AWP 命令插入页面中。
<p>AWP 命令所需的语法</p>
<ul>
  <li>AWP 命令公式中&quot;&lt;!--&quot;之后的空格和&quot;--&gt;&quot;之前的空格，对于命令的正确编译至关重要。疏漏空格字符可能导致编译器无法生成正确代码。 这种情况下，编译器不会显示错误。<br />
  </li>
</ul>
<h4>2. AWP 命令汇总</h4>
<p>
<strong>读取变量</strong></p>
<ul>
  <li> :=&lt;Varname&gt;:</li>
</ul>
<p><strong>写入变量</strong></p>
<ul>
  <li>&lt;!-- AWP_In_Variable Name='&lt;Varname1&gt;' [Use='&lt;Varname2&gt;'] ... --&gt;</li>
</ul>
<p>该 AWP 命令只是声明 Name 子句中的变量可写入。 HTML 代码将按 HTML 表单中&lt;input&gt;、&lt;select&gt; 或其它 HTML 语句中的名称写入变量。</p>
<p><strong>读取特殊变量</strong></p>
<ul>
  <li> &lt;!-- AWP_Out_Variable Name='&lt;Type&gt;:&lt;Name&gt;' [Use='&lt;Varname&gt;'] --&gt;</li>
</ul>
<p><strong>写入特殊变量</strong></p>
<ul>
  <li>&lt;!-- AWP_In_Variable Name='&lt;Type&gt;:&lt;Name&gt;' [Use='&lt;Varname&gt;']--&gt;</li>
</ul>
<p><strong>定义枚举类型</strong></p>
<ul>
  <li>&lt;!--AWP_Enum_Def Name='&lt;Enum type name&gt;' Values='&lt;Value&gt;, &lt;Value&gt;,... ' --&gt;</li>
</ul>
<p><strong>引用枚举类型</strong></p>
<ul>
  <li>&lt;!-- AWP_In_Variable Name='&lt;Varname&gt;' Enum=&quot;&lt;Enum 类型名称&gt;&quot; --&gt;</li>
  <li>&lt;!-- AWP_Out_Variable Name='&lt;Varname&gt;' Enum=&quot;&lt;Enum 类型名称&gt;&quot; --&gt;</li>
</ul>
<p><strong>创建片段</strong></p>
<ul>
  <li>&lt;!-- AWP_Start_Fragment Name='&lt;Name&gt;' [Type=&lt;Type&gt;][ID=&lt;id&gt;] --&gt;</li>
</ul>
<p><strong>导入片段</strong></p>
<ul>
  <li>&lt;!-- AWP_Import_Fragment Name='&lt;名称&gt;' --&gt;</li>
</ul>
</body>
</html>
