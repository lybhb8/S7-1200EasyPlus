<!DOCTYPE html>

<html lang="zh">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>使用存储卡 {#使用存储卡 .STYLE1} &#8212; S7-1200 PLC 技术手册 EasyPlus4.3</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/basic_mod.css?v=59943e95" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=1a73f00c"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/tabs.js?v=3ee01567"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script src="../_static/js/theme.js"></script>
    <script src="../_static/js/petite-vue.js"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" /> 
  </head><body data-dark_mode_code_blocks="true">

<div id="top_nav">
    

    <nav>
        
            
        

        <p id="toggle_sidebar">
            <a href="#" title="Toggle sidebar">|||</a>
        </p>
        <h1><a href="../index.html" title="Go to homepage"><img src="../_static/SIEMENS.svg"/></a></h1>

        <a id="mode_toggle" href="#" @click.prevent="handleClick" :title="mode">
    <template v-if="mode == 'light'">
        <svg width="100%" height="100%" viewBox="0 0 79 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="mode_light"><rect id="Bounds" x="0" y="-0" width="78.623" height="79.049" style="fill:none;"/><circle cx="39.311" cy="39.524" r="15.734" style="fill:#fff;"/><g id="beams"><g id="beam"><path id="beam1" serif:id="beam" d="M44.212,4.901c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.9,2.196 -4.9,4.901l-0,9.614c-0,2.705 2.196,4.901 4.9,4.901c2.705,0 4.901,-2.196 4.901,-4.901l0,-9.614Z" style="fill:#fff;"/></g><g id="beam2" serif:id="beam"><path id="beam3" serif:id="beam" d="M67.48,18.073c1.913,-1.912 1.913,-5.018 0,-6.931c-1.912,-1.912 -5.018,-1.912 -6.931,0l-6.798,6.799c-1.912,1.912 -1.912,5.018 0,6.931c1.913,1.912 5.018,1.912 6.931,-0l6.798,-6.799Z" style="fill:#fff;"/></g><g id="beam4" serif:id="beam"><path id="beam5" serif:id="beam" d="M25.728,61.108c1.912,-1.913 1.912,-5.018 -0,-6.931c-1.913,-1.913 -5.019,-1.913 -6.931,-0l-6.799,6.798c-1.912,1.913 -1.912,5.019 0,6.931c1.913,1.913 5.019,1.913 6.931,0l6.799,-6.798Z" style="fill:#fff;"/></g><g id="beam6" serif:id="beam"><path id="beam7" serif:id="beam" d="M60.682,54.177c-1.913,-1.913 -5.018,-1.913 -6.931,-0c-1.912,1.913 -1.912,5.018 0,6.931l6.798,6.798c1.913,1.913 5.019,1.913 6.931,0c1.913,-1.912 1.913,-5.018 0,-6.931l-6.798,-6.798Z" style="fill:#fff;"/></g><g id="beam8" serif:id="beam"><path id="beam9" serif:id="beam" d="M4.901,34.623c-2.705,0 -4.901,2.196 -4.901,4.901c0,2.705 2.196,4.901 4.901,4.901l9.614,0c2.705,0 4.901,-2.196 4.901,-4.901c0,-2.705 -2.196,-4.901 -4.901,-4.901l-9.614,0Z" style="fill:#fff;"/></g><g id="beam10" serif:id="beam"><path id="beam11" serif:id="beam" d="M44.212,64.534c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.9,2.196 -4.9,4.901l-0,9.614c-0,2.705 2.196,4.901 4.9,4.901c2.705,-0 4.901,-2.196 4.901,-4.901l0,-9.614Z" style="fill:#fff;"/></g><g id="beam12" serif:id="beam"><path id="beam13" serif:id="beam" d="M18.929,11.142c-1.912,-1.912 -5.018,-1.912 -6.931,0c-1.912,1.913 -1.912,5.019 0,6.931l6.799,6.799c1.912,1.912 5.018,1.912 6.931,-0c1.912,-1.913 1.912,-5.019 -0,-6.931l-6.799,-6.799Z" style="fill:#fff;"/></g><g id="beam14" serif:id="beam"><path id="beam15" serif:id="beam" d="M64.108,34.623c-2.705,0 -4.901,2.196 -4.901,4.901c-0,2.705 2.196,4.901 4.901,4.901l9.614,0c2.705,0 4.901,-2.196 4.901,-4.901c-0,-2.705 -2.196,-4.901 -4.901,-4.901l-9.614,0Z" style="fill:#fff;"/></g></g></g></svg>
    </template>

    <template v-if="mode == 'dark'">
        <svg width="100%" height="100%" viewBox="0 0 79 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="mode_dark"><rect id="Bounds" x="0" y="-0" width="78.623" height="79.049" style="fill:none;"/><circle cx="39.311" cy="39.524" r="15.734" style="fill:#fff;"/><g id="beams"><g id="beam"><path id="beam1" serif:id="beam" d="M44.212,14.515c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,0 -4.901,2.196 -4.901,4.901c0,2.705 2.197,4.901 4.901,4.901c2.705,0 4.901,-2.196 4.901,-4.901Z" style="fill:#fff;"/></g><g id="beam2" serif:id="beam"><path id="beam3" serif:id="beam" d="M60.662,24.892c1.902,-1.902 1.902,-4.99 0,-6.892l-0.04,-0.039c-1.901,-1.902 -4.989,-1.902 -6.891,-0c-1.901,1.901 -1.901,4.989 0,6.891l0.04,0.04c1.902,1.901 4.989,1.901 6.891,-0Z" style="fill:#fff;"/></g><g id="beam4" serif:id="beam"><path id="beam5" serif:id="beam" d="M25.732,61.103c1.91,-1.91 1.91,-5.011 0,-6.921l-0.009,-0.01c-1.91,-1.91 -5.012,-1.91 -6.921,-0c-1.91,1.91 -1.91,5.011 -0,6.921l0.01,0.01c1.909,1.91 5.011,1.91 6.92,-0Z" style="fill:#fff;"/></g><g id="beam6" serif:id="beam"><path id="beam7" serif:id="beam" d="M60.672,54.167c-1.907,-1.907 -5.004,-1.907 -6.911,0l-0.02,0.02c-1.907,1.907 -1.907,5.004 0,6.911c1.907,1.907 5.004,1.907 6.911,-0l0.02,-0.02c1.907,-1.907 1.907,-5.004 0,-6.911Z" style="fill:#fff;"/></g><g id="beam8" serif:id="beam"><path id="beam9" serif:id="beam" d="M14.52,34.623c-2.702,0 -4.896,2.194 -4.896,4.896l0,0.01c0,2.702 2.194,4.896 4.896,4.896c2.702,0 4.896,-2.194 4.896,-4.896l-0,-0.01c-0,-2.702 -2.194,-4.896 -4.896,-4.896Z" style="fill:#fff;"/></g><g id="beam10" serif:id="beam"><path id="beam11" serif:id="beam" d="M44.212,64.534c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.901,2.196 -4.901,4.901c0,2.704 2.197,4.9 4.901,4.9c2.705,0 4.901,-2.196 4.901,-4.9Z" style="fill:#fff;"/></g><g id="beam12" serif:id="beam"><path id="beam13" serif:id="beam" d="M25.73,17.943c-1.911,-1.911 -5.015,-1.911 -6.926,0l-0.005,0.005c-1.911,1.911 -1.911,5.015 0,6.926c1.911,1.911 5.015,1.911 6.926,0l0.005,-0.005c1.911,-1.911 1.911,-5.014 -0,-6.926Z" style="fill:#fff;"/></g><g id="beam14" serif:id="beam"><path id="beam15" serif:id="beam" d="M64.098,34.623c-2.699,0 -4.891,2.192 -4.891,4.892l-0,0.019c-0,2.699 2.192,4.891 4.891,4.891c2.7,0 4.892,-2.192 4.892,-4.891l0,-0.019c0,-2.7 -2.192,-4.892 -4.892,-4.892Z" style="fill:#fff;"/></g></g></g></svg>
    </template>

    <template v-if="mode == 'darkest'">
        <svg width="100%" height="100%" viewBox="0 0 79 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="mode_darkest"><rect id="Bounds" x="0" y="-0" width="78.623" height="79.049" style="fill:none;"/><path d="M39.315,23.791c8.684,-0 15.734,7.05 15.734,15.733c0,8.684 -7.05,15.734 -15.734,15.734c-8.683,0 -15.733,-7.05 -15.733,-15.734c-0,-8.683 7.05,-15.733 15.733,-15.733Zm0,4.737c6.069,0 10.997,4.927 10.997,10.996c-0,6.069 -4.928,10.996 -10.997,10.996c-6.068,0 -10.996,-4.927 -10.996,-10.996c0,-6.069 4.928,-10.996 10.996,-10.996Z" style="fill:#fff;"/><g id="beams"><g id="beam"><path id="beam1" serif:id="beam" d="M44.216,14.515c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,0 -4.9,2.196 -4.9,4.901c-0,2.705 2.196,4.901 4.9,4.901c2.705,0 4.901,-2.196 4.901,-4.901Z" style="fill:#fff;"/></g><g id="beam2" serif:id="beam"><path id="beam3" serif:id="beam" d="M60.666,24.892c1.902,-1.902 1.902,-4.99 0,-6.892l-0.04,-0.039c-1.901,-1.902 -4.989,-1.902 -6.891,-0c-1.901,1.901 -1.901,4.989 0,6.891l0.04,0.04c1.902,1.901 4.99,1.901 6.891,-0Z" style="fill:#fff;"/></g><g id="beam4" serif:id="beam"><path id="beam5" serif:id="beam" d="M25.737,61.103c1.909,-1.91 1.909,-5.011 -0,-6.921l-0.01,-0.01c-1.91,-1.91 -5.011,-1.91 -6.921,-0c-1.91,1.91 -1.91,5.011 -0,6.921l0.01,0.01c1.91,1.91 5.011,1.91 6.921,-0Z" style="fill:#fff;"/></g><g id="beam6" serif:id="beam"><path id="beam7" serif:id="beam" d="M60.676,54.167c-1.907,-1.907 -5.004,-1.907 -6.911,0l-0.02,0.02c-1.907,1.907 -1.907,5.004 0,6.911c1.907,1.907 5.004,1.907 6.911,-0l0.02,-0.02c1.907,-1.907 1.907,-5.004 0,-6.911Z" style="fill:#fff;"/></g><g id="beam8" serif:id="beam"><path id="beam9" serif:id="beam" d="M14.524,34.623c-2.702,0 -4.896,2.194 -4.896,4.896l0,0.01c0,2.702 2.194,4.896 4.896,4.896c2.702,0 4.896,-2.194 4.896,-4.896l0,-0.01c0,-2.702 -2.194,-4.896 -4.896,-4.896Z" style="fill:#fff;"/></g><g id="beam10" serif:id="beam"><path id="beam11" serif:id="beam" d="M44.216,64.534c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.9,2.196 -4.9,4.901c-0,2.704 2.196,4.9 4.9,4.9c2.705,0 4.901,-2.196 4.901,-4.9Z" style="fill:#fff;"/></g><g id="beam12" serif:id="beam"><path id="beam13" serif:id="beam" d="M25.734,17.943c-1.911,-1.911 -5.015,-1.911 -6.926,0l-0.005,0.005c-1.911,1.911 -1.911,5.015 0,6.926c1.911,1.911 5.015,1.911 6.926,0l0.005,-0.005c1.911,-1.911 1.911,-5.014 0,-6.926Z" style="fill:#fff;"/></g><g id="beam14" serif:id="beam"><path id="beam15" serif:id="beam" d="M64.103,34.623c-2.7,0 -4.892,2.192 -4.892,4.892l-0,0.019c-0,2.699 2.192,4.891 4.892,4.891c2.699,0 4.891,-2.192 4.891,-4.891l0,-0.019c0,-2.7 -2.192,-4.892 -4.891,-4.892Z" style="fill:#fff;"/></g></g></g></svg>
    </template>
</a>

<script>
(function() {
    const LOCAL_STORAGE_KEY = 'piccoloThemeMode'

    var initialMode = localStorage.getItem(LOCAL_STORAGE_KEY)

    if (initialMode) {
        // Make sure the value in local storage is valid
        if (['light', 'dark', 'darkest'].indexOf(initialMode) == -1) {
            initialMode = 'light'
            localStorage.setItem(LOCAL_STORAGE_KEY, initialMode)
        }
    } else {
        // Check if the client prefers dark mode
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            initialMode = 'dark'
        } else {
            initialMode = 'light'
        }
        localStorage.setItem(LOCAL_STORAGE_KEY, initialMode)
    }

    document.documentElement.dataset.mode = initialMode

    PetiteVue.createApp({
        'mode': initialMode,
        handleClick() {
            let currentMode = this.mode

            if (currentMode == 'light') {
                this.mode = 'dark'
            } else if (currentMode == 'dark') {
                this.mode = 'darkest'
            } else if (currentMode == 'darkest') {
                this.mode = 'light'
            }

            document.documentElement.dataset.mode = this.mode
            localStorage.setItem(LOCAL_STORAGE_KEY, this.mode)

            console.log(this.mode)
        }
    }).mount('#mode_toggle')
})()
</script>
            <p class="mobile_search_link">
                <a href="../search.html" title="Search">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 65 64" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2">
                        <path d="M14.873 40.009c-2.315-3.943-3.642-8.532-3.642-13.429C11.231 11.91 23.141 0 37.811 0s26.58 11.91 26.58 26.58-11.91 26.58-26.58 26.58a26.44 26.44 0 0 1-14.277-4.161L9.739 62.794a3.12 3.12 0 0 1-4.413 0L.913 58.382c-1.217-1.218-1.217-3.196 0-4.413l13.96-13.96zM37.811 8.054c10.225 0 18.526 8.301 18.526 18.526s-8.301 18.526-18.526 18.526-18.526-8.301-18.526-18.526S27.586 8.054 37.811 8.054z" fill="#fff" />
                    </svg>
                </a>
            </p>
        

        <div class="searchbox_wrapper">
            
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="提交" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
    </nav>
</div>

    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><ul>
<li class="toctree-l1"><a class="reference internal" href="../base.html">基础总汇</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config.html">组态编程</a></li>
</ul>

        </div>
      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="style1">
<h1>使用存储卡 {#使用存储卡 .STYLE1}<a class="headerlink" href="#style1" title="此标题的永久链接">¶</a></h1>
<p>S7-1200CPU使用的存储卡为SD卡，存储卡中可以存储用户项目文件，有如下几种主要功能：</p>
<ol class="arabic simple">
<li><p>作为CPU的装载存储区，用户项目文件可以仅存储在卡中，CPU中没有项目文件
，离开存储卡无法运行。</p></li>
<li><p>在没有编程器的情况下，作为向多个S7-1200PLC传送项目文件的介质。</p></li>
<li><p>忘记密码时，清除CPU内部的项目文件和密码。</p></li>
<li><p>12MB以上存储卡可以用于更新S7-1200CPU的固件版本。</p></li>
</ol>
<p><a class="reference internal" href="../_images/10-01.gif"><img alt="" src="../_images/10-01.gif" style="width: 476px; height: 205px;" /></a></p>
<p>图1： S7-1200存储卡</p>
<p>存储卡功能链接：</p>
<ul class="simple">
<li><p><a class="reference internal" href="#10-Memory_Card.html#A"><span class="xref myst">如何插入存储卡</span></a></p></li>
<li><p><a class="reference internal" href="#10-Memory_Card.html#B"><span class="xref myst">存储卡的工作模式</span></a></p></li>
<li><p><a class="reference internal" href="#10-Memory_Card.html#C"><span class="xref myst">使用存储卡清除密码或恢复出厂设置</span></a></p></li>
<li><p><span class="STYLE1"><a class="reference internal" href="#10-Memory_Card.html#memorycard"><span class="xref myst">使用存储卡更新S7-1200CPU的固件版本</span></a></span></p></li>
<li><p><span class="STYLE1"><a class="reference internal" href="#10-Memory_Card.html#FILE"><span class="xref myst">使用自定义读卡器制作程序文件</span></a></span></p></li>
<li><p><span class="STYLE1"><a class="reference internal" href="#10-Memory_Card.html#FILE2"><span class="xref myst">使用TIA STEP7格式化存储卡</span></a></span></p></li>
</ul>
<section id="id1">
<h2><span id="a"></span>如何插入存储卡 {#如何插入存储卡 .STYLE1}<a class="headerlink" href="#id1" title="此标题的永久链接">¶</a></h2>
<p>将CPU上挡板向下掀开，可以看到右上角有一MC卡槽，将存储卡缺口向上插入，如下图所示：</p>
<p><a class="reference internal" href="../_images/10-02.gif"><img alt="" src="../_images/10-02.gif" style="width: 499px; height: 332px;" /></a></p>
<p>图2： 插入存储卡</p>
<p><strong><img alt="" src="../_images/47.gif" /> 注意：</strong></p>
<ul class="simple">
<li><p>对于S7-1200CPU，存储卡不是必须的。</p></li>
<li><p>将存储卡插到一个处于运行状态的CPU上，会造成CPU停机。</p></li>
<li><p>S7-1200 CPU 仅支持由西门子制造商预先格式化过的存储卡，
即下列订货号产品：</p></li>
</ul>
<p>±----------------------------------±----------------------------------+
| 订货号                            | 容量                              |
±----------------------------------±----------------------------------+
| ::: {align=“left”}                | ::: {align=“left”}                |
| SIMATIC MC 4 MB                   | 6ES7 954-8LC03-0AA0               |
| :::                               | :::                               |
±----------------------------------±----------------------------------+
| ::: {align=“left”}                | ::: {align=“left”}                |
| SIMATIC MC 12 MB                  | 6ES7 954-8LE03-0AA0               |
| :::                               | :::                               |
±----------------------------------±----------------------------------+
| ::: {align=“left”}                | ::: {align=“left”}                |
| SIMATIC MC 24 MB                  | 6ES7 954-8LF03-0AA0               |
| :::                               | :::                               |
±----------------------------------±----------------------------------+
| ::: {align=“left”}                | ::: {align=“left”}                |
| SIMATIC MC 256 MB                 | 6ES7 954-8LL03-0AA0               |
| :::                               | :::                               |
±----------------------------------±----------------------------------+
| ::: {align=“left”}                | ::: {align=“left”}                |
| SIMATIC MC 2G                     | 6ES7 954-8LP03-0AA0               |
| :::                               | :::                               |
±----------------------------------±----------------------------------+
| ::: {align=“left”}                | ::: {align=“left”}                |
| SIMATIC MC 32G                    | 6ES7 954-8LT03-0AA0               |
| :::                               | :::                               |
±----------------------------------±----------------------------------+</p>
<p>表1：存储卡信息</p>
<ul class="simple">
<li><p>如果使用 Windows 格式化程序对SIMATIC 存储卡重新进行格式化，CPU
将无法使用该重新格式化的存储卡。（固件V2.0.1以前）</p></li>
</ul>
<p><strong><a class="reference internal" href="../_images/56.gif"><img alt="" src="../_images/56.gif" style="width: 15px; height: 15px;" /></a>怎样检查一张 SIMATIC
存储卡（SMC）有非一致性或者是格式错误？如何修复？</strong></p>
<p>从固件V2.0.1开始才支持存储卡中隐藏文件的自动修复，早期的版本无此功能。</p>
<p>如果从S7-1200中修复存储卡，CPU中的程序将会自动载入存储卡中，之后CPU将不会有程序。</p>
<p>请参考以下链接</p>
<p><a class="reference external" href="https://support.industry.siemens.com/cs/cn/zh/view/69063974"><strong>https://support.industry.siemens.com/cs/cn/zh/view/69063974</strong></a></p>
</section>
<section id="id2">
<h2><span id="b"></span>存储卡的工作模式 {#存储卡的工作模式 .STYLE1}<a class="headerlink" href="#id2" title="此标题的永久链接">¶</a></h2>
<p>存储卡有两种工作模式：</p>
<ul class="simple">
<li><p>程序卡：存储卡作为S7-1200 CPU
的装载存储区，所有程序和数据存储在卡中，CPU内部成的存储区中没有项目文件，设备运行中存储卡不能被拔出
。</p></li>
<li><p>传送卡：用于从存储卡向CPU传送项目，传送完成后必须将存储卡拔出。CPU可以离开存储卡独立运行。</p></li>
</ul>
</section>
<section id="id3">
<h2>一、修改存储卡的工作模式 {#一修改存储卡的工作模式 .STYLE1}<a class="headerlink" href="#id3" title="此标题的永久链接">¶</a></h2>
<p>在TIA
PORTAL软件的项目视图下，点击左侧&quot;项目树&quot;---&gt;&quot;读卡器/USB存储器&quot;
---&gt;读卡器，如下图所示：</p>
<p><a class="reference internal" href="../_images/10-032.png"><img alt="" src="../_images/10-032.png" style="width: 205px; height: 74px;" /></a></p>
<p>图3：项目视图</p>
<p>右击存储卡的盘符（这里是F:），选择&quot;属性&quot;，打开下面窗口：</p>
<p><a class="reference internal" href="../_images/10-042.png"><img alt="" src="../_images/10-042.png" style="width: 790px; height: 494px;" /></a></p>
<p>图4：存储卡属性</p>
<p>用户在&quot;Card type&quot;选择需要的工作模式，点击&quot;OK&quot;完成设定。</p>
</section>
<section id="id4">
<h2>二、使用程序卡模式 {#二使用程序卡模式 .STYLE1}<a class="headerlink" href="#id4" title="此标题的永久链接">¶</a></h2>
<p><strong><a class="reference internal" href="../_images/34.gif"><img alt="" src="../_images/34.gif" style="width: 15px; height: 15px;" /></a>优点</strong>：更换CPU时不需要重新下载项目文件。</p>
<p><strong>装载用户项目文件到存储卡：</strong></p>
<ul>
<li><p>第一步：按照上面方法将存储卡设定到&quot;程序&quot;模式。建议客户做此操作之前清除存储卡中的所有文件。</p></li>
<li><p>第二步：设置CPU的启动状态：在&quot;项目树&quot;中右击CPU选择&quot;属性&quot;，在&quot;属性&quot;窗口中点击&quot;启动&quot;,此处必须选择&quot;暖启动 -
RUN模式&quot;</p>
<p><a class="reference internal" href="../_images/10-052.png"><img alt="" src="../_images/10-052.png" style="width: 733px; height: 434px;" /></a></p>
<p>图5： 启动设置</p>
</li>
<li><p>第三步：将CPU断电。</p></li>
<li><p>第四步：将存储卡插到CPU卡槽内</p></li>
<li><p>第五步：将CPU上电</p></li>
<li><p>第六步：在TIA PORTAL 中点击下载，
将项目文件全部下载到存储卡中。此时下载是将项目文件（包括用户程序、硬件组态和强制值）下载到存储卡中，而不是CPU内部集成的存储区中。</p></li>
</ul>
<p>完成上述步骤后，CPU可以带卡正常运行。此时如果将存储卡拔出，CPU会报错，&quot;ERROR&quot;红灯闪烁。</p>
<p><strong><a class="reference internal" href="../_images/56.gif"><img alt="" src="../_images/56.gif" style="width: 15px; height: 15px;" /></a>为什么插上存储卡后CPU的&quot;MAINT&quot;灯闪烁，使用TIA
PORTAL下载是提示报错&quot;The download of the hardware configuration failed
(0050 -133 2 2458)&quot;？</strong></p>
<p><strong>回答</strong>：请清除存储卡中的所有文件，重新使用TIA
PORTAL软件将存储卡设置到&quot;程序&quot;模式，然后再重复上述步骤。请您也检查存储卡上的拨码开关，检查存储卡是否处于写保护模式。</p>
<p><strong><a class="reference internal" href="../_images/56.gif"><img alt="" src="../_images/56.gif" style="width: 15px; height: 15px;" /></a>为什么CPU断电上电后进入停止状态，而不进入运行状态？</strong></p>
<p><strong>回答</strong>：原因是CPU的启动方式不是&quot;暖启动 -
RUN模式&quot;，详细请参考上面&quot;第二步&quot;。</p>
</section>
<section id="id5">
<h2>三、使用传送卡模式 {#三使用传送卡模式 .STYLE1}<a class="headerlink" href="#id5" title="此标题的永久链接">¶</a></h2>
<p><strong><a class="reference internal" href="../_images/34.gif"><img alt="" src="../_images/34.gif" style="width: 15px; height: 15px;" /></a>优点</strong>：在没有编程器的情况下，方便快捷地向多个S7-1200PLC拷贝项目文件。</p>
<p><strong>1、向处于传送模式的存储卡中装载项目</strong></p>
<ul>
<li><p>第一步：按照上面方法将存储卡设定到&quot;传送&quot;模式。建议客户做此操作之前清除存储卡中的所有文件。</p></li>
<li><p>第二步：设置CPU的启动状态：在&quot;项目树&quot;中右击CPU选择&quot;属性&quot;，在&quot;属性&quot;窗口中点击&quot;启动&quot;,此处必须选择&quot;暖启动 -
RUN模式&quot;</p></li>
<li><p>第三步：直接拖拽PLC设备到存储卡盘符</p>
<p><a class="reference internal" href="../_images/10-062.png"><img alt="" src="../_images/10-062.png" style="width: 436px; height: 285px;" /></a></p>
<p>图6：拖拽</p>
</li>
</ul>
<p><span>用户也可以直接将一张已经做好的&quot;程序卡&quot;更改为&quot;传送卡&quot; 。
</span></p>
<p><strong>2、从存储卡复制项目到S7-1200PLC</strong></p>
<ul class="simple">
<li><p>第一步：将CPU断电</p></li>
<li><p>第二步：插卡到CPU卡槽</p></li>
<li><p>第三步：将CPU上电，用户会看到CPU的&quot;MAINT&quot;黄灯闪烁</p></li>
<li><p>第四步：将CPU断电，将存储卡拔出</p></li>
<li><p>第五步：将CPU上电</p></li>
</ul>
<p><strong><a class="reference internal" href="../_images/56.gif"><img alt="" src="../_images/56.gif" style="width: 15px; height: 15px;" /></a>为什么CPU断电上电后进入停止状态，而不进入运行状态？</strong></p>
<p><strong>回答</strong>：</p>
<ol class="arabic simple">
<li><p>CPU的启动方式不是&quot;暖启动 - RUN模式&quot; ，详细请参考上面&quot;第二步&quot;。</p></li>
<li><p>检查第三步，必须拖拽PLC项目到存储卡盘符，而不是程序块等其他项目内容。下载到存储卡中的项目文件有可能不完整，例如缺失硬件组态等。</p></li>
</ol>
</section>
<section id="id6">
<h2><span id="c"></span>使用存储卡清除密码或恢复出厂设置 {#使用存储卡清除密码或恢复出厂设置 .STYLE1}<a class="headerlink" href="#id6" title="此标题的永久链接">¶</a></h2>
<p>如果客户忘记了之前设定到S7-1200的密码，通过&quot;恢复出厂设置&quot;无法清除S7-1200内部的程序和密码，因此唯一的清除方式是使用存储卡。详细步骤如下：</p>
<ol class="arabic simple">
<li><p>使用一张存储卡，插在电脑读卡器中，清空内部文件。</p></li>
<li><p>在TIA PORTAL中将存储卡的工作模式改成&quot;传送&quot;卡，参考图4。</p></li>
<li><p>将S7-1200设备断电。</p></li>
<li><p>插入存储卡到S7-1200CPU上。</p></li>
<li><p>将S7-1200设备上电，此时CPU会停止。</p></li>
<li><p>当&quot;MAINT&quot;指示灯闪烁，将S7-1200设备断电。</p></li>
<li><p>取出存储卡后，将S7-1200设备上电，此时CPU密码及程序完全清除。</p></li>
</ol>
<p><strong><img alt="" src="../_images/47.gif" /> 注意：</strong></p>
<ul class="simple">
<li><p>不要格式化存储卡</p></li>
<li><p>清除密码的同时CPU的程序也同时清除</p></li>
</ul>
</section>
<section id="s7-1200cpu-s7-1200cpu-style1">
<h2><span id="memorycard"></span>使用存储卡更新S7-1200CPU的固件版本 {#使用存储卡更新s7-1200cpu的固件版本 .STYLE1}<a class="headerlink" href="#s7-1200cpu-s7-1200cpu-style1" title="此标题的永久链接">¶</a></h2>
<p>S7-1200的固件版本可以从在<a class="reference download internal" download="" href="../_downloads/920e74c035fe3e830c1c8e486ce45488/08-online_download.htm"><span class="xref download myst"><strong>此处</strong></span></a>查找下载链接。</p>
<p><strong><img alt="" src="../_images/47.gif" /> 注意：</strong></p>
<ul class="simple">
<li><p>不同订货号的S7-1200CPU的固件文件不相同，下载地址也不相同。用户在下载和更新固件之前请核对产品订货号。</p></li>
<li><p>12M以下存储卡不能用于CPU固件升级。</p></li>
<li><p>固件升级前CPU内部存储的项目文件（程序块、硬件组态等）不受影响，不会被清除。</p></li>
<li><p>如果存储卡中的固件文件订货号与实际CPU的订货号不一致，即使执行了下列步骤，CPU的原固件版本也不会改变。</p></li>
</ul>
<p><strong>更新CPU的固件具体步骤如下：</strong></p>
<ul class="simple">
<li><p>第一步：使用电脑通过读卡器清除存储卡中内容。<strong>注意：不要格式化存储卡！</strong></p></li>
<li><p>第二步：从西门子官方网站下载最新版本的固件文件。下载并解压缩，用户可以得到一个&quot;S7_JOB.SYS&quot;文件和&quot;FWUPDATE.S7S&quot;文件夹。</p></li>
<li><p>第三步： 将&quot;S7_JOB.SYS&quot;文件和&quot;FWUPDATE.S7S&quot;文件夹拷贝到存储卡中。</p></li>
<li><p>第四步：
将存储卡插到CPU1200卡槽中。此时CPU会停止，&quot;MAINT&quot;指示灯闪烁。</p></li>
<li><p>第五步： 将CPU断电上电 。CPU的&quot;RUN/STOP&quot;
指示灯黄绿交替闪烁说明固件正在被更新中。“RUN/STOP”
指示灯亮(黄)，&quot;MAINT&quot;指示灯闪烁说明固件更新已经结束。</p></li>
<li><p>第六步： 拔出存储卡</p></li>
<li><p>第七步： 再次将CPU断电上电</p></li>
</ul>
<p>用户可以在TIA PORTAL 软件---&gt;在线和诊断---&gt;诊断---&gt;常规
中在线查看CPU目前的固件版本。</p>
<p><strong><img alt="" src="../_images/47.gif" /> 注意：</strong><br />
S7-1200 CPU 固件版本在 V2.2
以下(包括V2.2)，可以降级（最低V1.0)或升级（最高V2.2)。<br />
S7-1200 CPU 固件版本在 V3.0
不可以降级至V2.2(或更低版本)，同样V2.2的固件版本不能升级至V3.0</p>
</section>
<section id="id7">
<h2><span id="file"></span>使用自定义读卡器制作程序文件 {#使用自定义读卡器制作程序文件 .STYLE1}<a class="headerlink" href="#id7" title="此标题的永久链接">¶</a></h2>
<p>某些时候，需要将程序文件发给别人，但对方没有TIA
PORTAL，只有存储卡或者Simatic Automation
tool软件，这样就无法发送TIA的项目文件，这种情况下可以将存储卡文件发送给对方，操作步骤如下：</p>
<p>1. 在TIA
PORTAL软件的项目视图下，点击左侧&quot;项目树&quot;---&gt;&quot;读卡器/USB存储器&quot;
---&gt;添加用户自定义读卡器，参考图3</p>
<p>双击&quot;添加用户自定义读卡器&quot;，弹出如图7所示</p>
<p><a class="reference internal" href="../_images/10-071.png"><img alt="" src="../_images/10-071.png" style="width: 349px; height: 417px;" /></a></p>
<p>图7 添加自定义读卡器&quot;</p>
<p>选择合适的位置，点击图7左下角按钮&quot;新建文件夹&quot;，将会在指定位置新建文件夹，这个文件夹就是一个自定义读卡器。</p>
<p>2. 新建文件夹后，在项目树下的读卡器/USB存储器&quot;
将出现如图8所示的读卡器。</p>
<p><a class="reference internal" href="../_images/10-08.png"><img alt="" src="../_images/10-08.png" style="width: 344px; height: 76px;" /></a></p>
<p>图8 自定义读卡器</p>
<p>这个读卡器就是指定位置下建的文件夹（图中为桌面建立的New folder(2)）。</p>
<p>3. 根据需要，按照图4方式将自定义读卡器改为&quot;传送&quot;卡或&quot;程序&quot;卡</p>
<p>4. 按照图6方式将程序拖拽至该读卡器中。</p>
<p>5. 此时打开自定义的读卡器文件夹就能看到程序文件，如图9所示。</p>
<p><a class="reference internal" href="../_images/10-09.png"><img alt="" src="../_images/10-09.png" style="width: 432px; height: 167px;" /></a></p>
<p>图9 程序文件</p>
</section>
<section id="tia-step7-tia-step7-style1">
<h2><span id="file2"></span>使用TIA STEP7格式化存储卡 {#使用tia-step7格式化存储卡 .STYLE1}<a class="headerlink" href="#tia-step7-tia-step7-style1" title="此标题的永久链接">¶</a></h2>
<p>从组态的CPU版本V4.2开始，可以通过 STEP 7 在线和诊断工具格式化连接的 CPU
中的存储卡。</p>
<p><strong>使用TIA STEP7格式化存储卡的具体步骤如下：</strong>\</p>
<ul class="simple">
<li><p>第一步： 确保 CPU 处于 STOP 模式。注意如果 CPU 处于 RUN
模式时启动了格式化操作，STEP 7 将 提示您允许 STEP 7 将 CPU 置于 STOP
模式下。</p></li>
<li><p>第二步： 将存储卡插入到连接的 CPU。</p></li>
<li><p>第三步： 通过项目中的 CPU 或项目树中在线访问中的可访问设备打开连接的
CPU 的&quot;在线和诊断&quot;。</p></li>
<li><p>第四步： 选择所连 CPU 的&quot;转到在线&quot;选项。</p></li>
<li><p>第五步： 选择&quot;功能&quot;菜单中的&quot;格式化存储卡&quot;。</p></li>
<li><p>第六步： 单击&quot;格式&quot;。</p></li>
<li><p>第七步： 单击&quot;是&quot;确认提示。</p></li>
</ul>
<p>上述步骤如图10所示：</p>
<p><span class="STYLE1"><a class="reference internal" href="../_images/10-10.png"><img alt="" src="../_images/10-10.png" style="width: 1155px; height: 673px;" /></a></span></p>
<p>图10 TIA STEP7格式化存储卡</p>
<p>然后 STEP 7 格式化存储卡，完成后在信息窗口中显示一条消息。完成后 CPU
处于 STOP 模式，STOP 和 MAINT 灯闪烁。此时还不能切换到 RUN
模式，必须执行以下任一步骤：</p>
<ul class="simple">
<li><p>移除存储卡并重启 CPU。如果 CPU 的内部装载存储器含有程序，CPU
将带程序启动。</p></li>
<li><p>不移除存储卡重启 CPU：如果 CPU 的内部装载存储器含有程序，CPU
将该程序复制到 存储卡然后带程序重启。如果内部装载存储器不含程序，CPU
将更改存储卡为程序卡并等待下载。</p></li>
</ul>
<p><strong><img alt="" src="../_images/47.gif" /> 注意：</strong><br />
格式化存储卡对内部装载存储器没有影响。<br />
当插入存储卡（在插入存储卡和执行格式化操作中间未重启 CPU）时 CPU
正在使用内部装载存储器，CPU 将保持内部装载存储器的内容。</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
    
        <div id="show_right_sidebar">
            <p><a class="toggle_right_sidebar" href="#"><span class="icon">&lt;</span><span>Page contents</span></a></p>
        </div>

        <div id="right_sidebar">
            <p><a class="toggle_right_sidebar" href="#"><span class="icon">&gt;</span><span>Page contents:</span></a></p>
            <div class="page_toc">
                <ul>
<li><a class="reference internal" href="#">使用存储卡 {#使用存储卡 .STYLE1}</a><ul>
<li><a class="reference internal" href="#id1"><span id="a"></span>如何插入存储卡 {#如何插入存储卡 .STYLE1}</a></li>
<li><a class="reference internal" href="#id2"><span id="b"></span>存储卡的工作模式 {#存储卡的工作模式 .STYLE1}</a></li>
<li><a class="reference internal" href="#id3">一、修改存储卡的工作模式 {#一修改存储卡的工作模式 .STYLE1}</a></li>
<li><a class="reference internal" href="#id4">二、使用程序卡模式 {#二使用程序卡模式 .STYLE1}</a></li>
<li><a class="reference internal" href="#id5">三、使用传送卡模式 {#三使用传送卡模式 .STYLE1}</a></li>
<li><a class="reference internal" href="#id6"><span id="c"></span>使用存储卡清除密码或恢复出厂设置 {#使用存储卡清除密码或恢复出厂设置 .STYLE1}</a></li>
<li><a class="reference internal" href="#s7-1200cpu-s7-1200cpu-style1"><span id="memorycard"></span>使用存储卡更新S7-1200CPU的固件版本 {#使用存储卡更新s7-1200cpu的固件版本 .STYLE1}</a></li>
<li><a class="reference internal" href="#id7"><span id="file"></span>使用自定义读卡器制作程序文件 {#使用自定义读卡器制作程序文件 .STYLE1}</a></li>
<li><a class="reference internal" href="#tia-step7-tia-step7-style1"><span id="file2"></span>使用TIA STEP7格式化存储卡 {#使用tia-step7格式化存储卡 .STYLE1}</a></li>
</ul>
</li>
</ul>

            </div>
        </div>
    

      <div class="clearer"></div>
    </div>
    <div class="button_nav_wrapper">
        <div class="button_nav">
            <div class="left">
                
            </div>

            <div class="right">
                
            </div>
        </div>
    </div>


    <div class="footer" role="contentinfo">
    &#169; 版权所有 2024, 宁波双紫信息科技有限公司.
      最后更新于 8月 24, 2024.
      由 <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2创建。
    </div>

<p id="theme_credit">Styled using the <a href="https://github.com/piccolo-orm/piccolo_theme">Piccolo Theme</a></p>
  </body>
</html>