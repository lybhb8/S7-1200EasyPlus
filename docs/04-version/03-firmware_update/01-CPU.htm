<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>Firmware_Update_CPU</title>
<link href="mnp.css" rel="stylesheet" type="text/css" />
</head>

<body>
<h3 class="STYLE1">通过TIA 软件或 Web 方式更新CPU固件</h3>
<p>伴随着TIA 软件V13 版本以及S7-1200 CPU V4.0 固件版本的发布，S7-1200 CPU的固件已经可以通过以下几种方式进行升级：</p>
<ul>
  <LI>使用存储卡更新CPU固件，具体步骤请参考 <a href="../../08-Function/10-Memory_Card.html#memorycard">存储卡的使用</a>章节。
  <LI><a href="01-CPU.htm#a">使用TIA 软件更新CPU固件</a>  
<LI><a href="01-CPU.htm#b">通过Web访问方式更新CPU固件</a>
</ul>
<p>本文将详细介绍上述方法中的后两种。<br>
  固件下载链接参见：<a href="../../01-resource/08-online_download.htm#firm">链接</a>。 <br>
</p>
<h4><a name="a" id="a"></a>使用TIA 软件更新CPU固件</h4>
<p>1. 打开所连接 CPU 的&quot;在线和诊断&quot;(Online and Diagnostics) 视图，并切换到&ldquo;在线&rdquo;模式。如图1所示。<br>
  <br>
<img src="images/1-01.png" width="1006" height="625"> <br>
图1. 打开&ldquo;在线和诊断&rdquo;视图</p>
<p>2. 从&quot;Functions&quot;文件夹中选择&quot;固件更新&quot;(Firmware update)，并单击&quot;浏览&quot;(Browse) 按钮并导航至包含固件更新文件的位置。如图2所示。</p>
<p><img src="images/1-02.png" width="1032" height="827"><br>
图2. 浏览固件更新包</p>
<p>3.浏览到新版本固件后，点击&ldquo;运行更新&rdquo;按钮，即可执行更新CPU固件操作。如图3所示。<br>
<img src="images/1-03.png" width="564" height="394"><br>
图3. 运行更新固件</p>
<p>在加载固件更新时会显示进程对话框。固件更新完成后，对话框会提示您使用新固件启动模块。<br>
</p>
<h4><a name="b" id="b"></a>通过Web访问方式更新CPU固件</h4>
<p>1.启动CPU的Web服务器功能<br>
  <br>
  如果需要通过Web方式更新CPU固件，首先需要在设备组态视图中选择CPU，在CPU属性中使能&ldquo;启动模块上的Web服务器&rdquo;。<br>
  并出于安全考虑，对Web服务器进行安全访问时，需要选择&quot;仅允许使用 HTTPS
  访问&quot;。相关设置如图4所示。</p>
<p><img src="images/1-04.png" width="761" height="676"><br>
图4.启用Web服务器</p>
<p>2.组态Web服务器用户权限。<br>
  <br>
为了使能Web服务器升级固件功能，需要组态Web服务器访问CPU的权限，需要在Web服务器属性的&ldquo;用户管理&rdquo;中添加授权的用户名、访问权限和密码。<br>
本例需要开放&ldquo;执行固件更新&rdquo;权限，如图5所示。</p>
<p><img src="images/1-05.png" width="682" height="542"><br>
图5.添加用户并开放固件更新权限</p>
<p>将上述的Web服务器组态下载到CPU后，授权用户就可以通过Web服务器访问CPU。</p>
<p>3.通过PC 访问Web页面</p>
<p>首先需要确保PC机与S7-1200 CPU位于同一个以太网络中，然后打开 Web 浏览器，输入 URL &quot;https://ww.xx.yy.zz&quot;，其中&quot;ww.xx.yy.zz&quot;为 S7-1200
  CPU 的 IP 地址。<br>
  并在Web服务器上登录授权用户，如图6所示。<br>
  <img src="images/1-06.png" width="749" height="554">  <br>
图6.登录Web服务器</p>
<p>4.登录授权用户后，点击&ldquo;模块信息&rdquo;，然后点击相应PLC站点名称，即可查看PLC 站点信息，如图7所示。</p>
<p><img src="images/1-07.png" width="713" height="518"><br>
图7.查看模块信息</p>
<p>3.在PLC站点信息显示页面，点击&ldquo;固件&rdquo;按钮，并&quot;浏览&quot;至固件更新包，点击&ldquo;运行更新&rdquo;按钮，即可执行CPU固件更新操作。如图8所示。</p>
<p><img src="images/1-08.png" width="709" height="706"><br>
  图8.浏览固件并更新

</p>
</body>
</html>
