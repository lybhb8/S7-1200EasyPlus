<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>S7-1200 与 S7-300 PN/S7-400 PN UDP 通信附加说明</title>
<link href="mnp.css" rel="stylesheet" type="text/css" />
</head>

<body>
<h3>S7-1200 与 S7-300 PN/S7-400 PN UDP 通信附加说明</h3>
<p>以下情况时需要注意确认部分参数的正确设置。</p>
<p>①1200侧同时使用TSEND_C和TRCV_C做指定或未指定伙伴UDP通信，参考图3确认参数的正确设置；<br />
②在1200内使用TSEND_C新建自动生成300PLC连接描述DB块，参考图4确认参数的正确设置；</p>
<p><strong>需确认注意的参数设置：</strong></p>
<p>1.在1200侧使用TSEND_C可新建自动生成1200PLC的连接描述DB块（_1200_Receive_DB），如图1所示和300PLC的连接描述DB块(_300PN_Connection_DB），如图2所示。</p>
<p><img src="images/4-01.JPG" width="1376" height="1002" /></p>
<p>图1. TSEND_C新建自动生成1200PLC的连接描述DB块</p>
<p><img src="images/4-02.JPG" width="1371" height="1045" /></p>
<p>图2. TSEND_C新建自动生成300PLC的连接描述DB块</p>
<p>2.确认TSEND_C新建自动生成1200PLC的连接描述DB块内，<strong>ADDR_Send数据结构必需包含伙伴IP地址和端口号</strong>，如图3所示。</p>
<p><img src="images/4-03.JPG" width="702" height="557" /></p>
<p>图3. 确认1200侧新建生成DB内包含伙伴IP和端口号</p>
<p>3.确认TSEND_C新建自动生成300PLC的连接描述DB块内，<strong>rem_staddr_len和rem_tsap_id_len参数必需设置为0</strong>，如图4所示。</p>
<p><img src="images/4-04.JPG" width="706" height="462" /></p>
<p>图4. 确认300侧新建生成DB内rem_staddr_len和rem_tsap_id_len参数必需为0</p>
</body>
</html>
