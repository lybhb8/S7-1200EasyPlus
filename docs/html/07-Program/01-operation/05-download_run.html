<!DOCTYPE html>

<html lang="zh">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>S7-1200 下载但不重新初始化 &#8212; S7-1200 PLC 技术手册 EasyPlus4.3</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic_mod.css?v=59943e95" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=1a73f00c"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/tabs.js?v=3ee01567"></script>
    <script src="../../_static/design-tabs.js?v=36754332"></script>
    <script src="../../_static/js/theme.js"></script>
    <script src="../../_static/js/petite-vue.js"></script>
    <link rel="icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="硬件检测" href="06-detect_hardware.html" />
    <link rel="prev" title="项目的下载" href="04-Download.html" /> 
  </head><body data-dark_mode_code_blocks="true">

<div id="top_nav">
    

    <nav>
        
            
        

        <p id="toggle_sidebar">
            <a href="#" title="Toggle sidebar">|||</a>
        </p>
        <h1><a href="../../index.html" title="Go to homepage"><img src="../../_static/SIEMENS.svg"/></a></h1>

        <a id="mode_toggle" href="#" @click.prevent="handleClick" :title="mode">
    <template v-if="mode == 'light'">
        <svg width="100%" height="100%" viewBox="0 0 79 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="mode_light"><rect id="Bounds" x="0" y="-0" width="78.623" height="79.049" style="fill:none;"/><circle cx="39.311" cy="39.524" r="15.734" style="fill:#fff;"/><g id="beams"><g id="beam"><path id="beam1" serif:id="beam" d="M44.212,4.901c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.9,2.196 -4.9,4.901l-0,9.614c-0,2.705 2.196,4.901 4.9,4.901c2.705,0 4.901,-2.196 4.901,-4.901l0,-9.614Z" style="fill:#fff;"/></g><g id="beam2" serif:id="beam"><path id="beam3" serif:id="beam" d="M67.48,18.073c1.913,-1.912 1.913,-5.018 0,-6.931c-1.912,-1.912 -5.018,-1.912 -6.931,0l-6.798,6.799c-1.912,1.912 -1.912,5.018 0,6.931c1.913,1.912 5.018,1.912 6.931,-0l6.798,-6.799Z" style="fill:#fff;"/></g><g id="beam4" serif:id="beam"><path id="beam5" serif:id="beam" d="M25.728,61.108c1.912,-1.913 1.912,-5.018 -0,-6.931c-1.913,-1.913 -5.019,-1.913 -6.931,-0l-6.799,6.798c-1.912,1.913 -1.912,5.019 0,6.931c1.913,1.913 5.019,1.913 6.931,0l6.799,-6.798Z" style="fill:#fff;"/></g><g id="beam6" serif:id="beam"><path id="beam7" serif:id="beam" d="M60.682,54.177c-1.913,-1.913 -5.018,-1.913 -6.931,-0c-1.912,1.913 -1.912,5.018 0,6.931l6.798,6.798c1.913,1.913 5.019,1.913 6.931,0c1.913,-1.912 1.913,-5.018 0,-6.931l-6.798,-6.798Z" style="fill:#fff;"/></g><g id="beam8" serif:id="beam"><path id="beam9" serif:id="beam" d="M4.901,34.623c-2.705,0 -4.901,2.196 -4.901,4.901c0,2.705 2.196,4.901 4.901,4.901l9.614,0c2.705,0 4.901,-2.196 4.901,-4.901c0,-2.705 -2.196,-4.901 -4.901,-4.901l-9.614,0Z" style="fill:#fff;"/></g><g id="beam10" serif:id="beam"><path id="beam11" serif:id="beam" d="M44.212,64.534c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.9,2.196 -4.9,4.901l-0,9.614c-0,2.705 2.196,4.901 4.9,4.901c2.705,-0 4.901,-2.196 4.901,-4.901l0,-9.614Z" style="fill:#fff;"/></g><g id="beam12" serif:id="beam"><path id="beam13" serif:id="beam" d="M18.929,11.142c-1.912,-1.912 -5.018,-1.912 -6.931,0c-1.912,1.913 -1.912,5.019 0,6.931l6.799,6.799c1.912,1.912 5.018,1.912 6.931,-0c1.912,-1.913 1.912,-5.019 -0,-6.931l-6.799,-6.799Z" style="fill:#fff;"/></g><g id="beam14" serif:id="beam"><path id="beam15" serif:id="beam" d="M64.108,34.623c-2.705,0 -4.901,2.196 -4.901,4.901c-0,2.705 2.196,4.901 4.901,4.901l9.614,0c2.705,0 4.901,-2.196 4.901,-4.901c-0,-2.705 -2.196,-4.901 -4.901,-4.901l-9.614,0Z" style="fill:#fff;"/></g></g></g></svg>
    </template>

    <template v-if="mode == 'dark'">
        <svg width="100%" height="100%" viewBox="0 0 79 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="mode_dark"><rect id="Bounds" x="0" y="-0" width="78.623" height="79.049" style="fill:none;"/><circle cx="39.311" cy="39.524" r="15.734" style="fill:#fff;"/><g id="beams"><g id="beam"><path id="beam1" serif:id="beam" d="M44.212,14.515c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,0 -4.901,2.196 -4.901,4.901c0,2.705 2.197,4.901 4.901,4.901c2.705,0 4.901,-2.196 4.901,-4.901Z" style="fill:#fff;"/></g><g id="beam2" serif:id="beam"><path id="beam3" serif:id="beam" d="M60.662,24.892c1.902,-1.902 1.902,-4.99 0,-6.892l-0.04,-0.039c-1.901,-1.902 -4.989,-1.902 -6.891,-0c-1.901,1.901 -1.901,4.989 0,6.891l0.04,0.04c1.902,1.901 4.989,1.901 6.891,-0Z" style="fill:#fff;"/></g><g id="beam4" serif:id="beam"><path id="beam5" serif:id="beam" d="M25.732,61.103c1.91,-1.91 1.91,-5.011 0,-6.921l-0.009,-0.01c-1.91,-1.91 -5.012,-1.91 -6.921,-0c-1.91,1.91 -1.91,5.011 -0,6.921l0.01,0.01c1.909,1.91 5.011,1.91 6.92,-0Z" style="fill:#fff;"/></g><g id="beam6" serif:id="beam"><path id="beam7" serif:id="beam" d="M60.672,54.167c-1.907,-1.907 -5.004,-1.907 -6.911,0l-0.02,0.02c-1.907,1.907 -1.907,5.004 0,6.911c1.907,1.907 5.004,1.907 6.911,-0l0.02,-0.02c1.907,-1.907 1.907,-5.004 0,-6.911Z" style="fill:#fff;"/></g><g id="beam8" serif:id="beam"><path id="beam9" serif:id="beam" d="M14.52,34.623c-2.702,0 -4.896,2.194 -4.896,4.896l0,0.01c0,2.702 2.194,4.896 4.896,4.896c2.702,0 4.896,-2.194 4.896,-4.896l-0,-0.01c-0,-2.702 -2.194,-4.896 -4.896,-4.896Z" style="fill:#fff;"/></g><g id="beam10" serif:id="beam"><path id="beam11" serif:id="beam" d="M44.212,64.534c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.901,2.196 -4.901,4.901c0,2.704 2.197,4.9 4.901,4.9c2.705,0 4.901,-2.196 4.901,-4.9Z" style="fill:#fff;"/></g><g id="beam12" serif:id="beam"><path id="beam13" serif:id="beam" d="M25.73,17.943c-1.911,-1.911 -5.015,-1.911 -6.926,0l-0.005,0.005c-1.911,1.911 -1.911,5.015 0,6.926c1.911,1.911 5.015,1.911 6.926,0l0.005,-0.005c1.911,-1.911 1.911,-5.014 -0,-6.926Z" style="fill:#fff;"/></g><g id="beam14" serif:id="beam"><path id="beam15" serif:id="beam" d="M64.098,34.623c-2.699,0 -4.891,2.192 -4.891,4.892l-0,0.019c-0,2.699 2.192,4.891 4.891,4.891c2.7,0 4.892,-2.192 4.892,-4.891l0,-0.019c0,-2.7 -2.192,-4.892 -4.892,-4.892Z" style="fill:#fff;"/></g></g></g></svg>
    </template>

    <template v-if="mode == 'darkest'">
        <svg width="100%" height="100%" viewBox="0 0 79 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="mode_darkest"><rect id="Bounds" x="0" y="-0" width="78.623" height="79.049" style="fill:none;"/><path d="M39.315,23.791c8.684,-0 15.734,7.05 15.734,15.733c0,8.684 -7.05,15.734 -15.734,15.734c-8.683,0 -15.733,-7.05 -15.733,-15.734c-0,-8.683 7.05,-15.733 15.733,-15.733Zm0,4.737c6.069,0 10.997,4.927 10.997,10.996c-0,6.069 -4.928,10.996 -10.997,10.996c-6.068,0 -10.996,-4.927 -10.996,-10.996c0,-6.069 4.928,-10.996 10.996,-10.996Z" style="fill:#fff;"/><g id="beams"><g id="beam"><path id="beam1" serif:id="beam" d="M44.216,14.515c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,0 -4.9,2.196 -4.9,4.901c-0,2.705 2.196,4.901 4.9,4.901c2.705,0 4.901,-2.196 4.901,-4.901Z" style="fill:#fff;"/></g><g id="beam2" serif:id="beam"><path id="beam3" serif:id="beam" d="M60.666,24.892c1.902,-1.902 1.902,-4.99 0,-6.892l-0.04,-0.039c-1.901,-1.902 -4.989,-1.902 -6.891,-0c-1.901,1.901 -1.901,4.989 0,6.891l0.04,0.04c1.902,1.901 4.99,1.901 6.891,-0Z" style="fill:#fff;"/></g><g id="beam4" serif:id="beam"><path id="beam5" serif:id="beam" d="M25.737,61.103c1.909,-1.91 1.909,-5.011 -0,-6.921l-0.01,-0.01c-1.91,-1.91 -5.011,-1.91 -6.921,-0c-1.91,1.91 -1.91,5.011 -0,6.921l0.01,0.01c1.91,1.91 5.011,1.91 6.921,-0Z" style="fill:#fff;"/></g><g id="beam6" serif:id="beam"><path id="beam7" serif:id="beam" d="M60.676,54.167c-1.907,-1.907 -5.004,-1.907 -6.911,0l-0.02,0.02c-1.907,1.907 -1.907,5.004 0,6.911c1.907,1.907 5.004,1.907 6.911,-0l0.02,-0.02c1.907,-1.907 1.907,-5.004 0,-6.911Z" style="fill:#fff;"/></g><g id="beam8" serif:id="beam"><path id="beam9" serif:id="beam" d="M14.524,34.623c-2.702,0 -4.896,2.194 -4.896,4.896l0,0.01c0,2.702 2.194,4.896 4.896,4.896c2.702,0 4.896,-2.194 4.896,-4.896l0,-0.01c0,-2.702 -2.194,-4.896 -4.896,-4.896Z" style="fill:#fff;"/></g><g id="beam10" serif:id="beam"><path id="beam11" serif:id="beam" d="M44.216,64.534c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.9,2.196 -4.9,4.901c-0,2.704 2.196,4.9 4.9,4.9c2.705,0 4.901,-2.196 4.901,-4.9Z" style="fill:#fff;"/></g><g id="beam12" serif:id="beam"><path id="beam13" serif:id="beam" d="M25.734,17.943c-1.911,-1.911 -5.015,-1.911 -6.926,0l-0.005,0.005c-1.911,1.911 -1.911,5.015 0,6.926c1.911,1.911 5.015,1.911 6.926,0l0.005,-0.005c1.911,-1.911 1.911,-5.014 0,-6.926Z" style="fill:#fff;"/></g><g id="beam14" serif:id="beam"><path id="beam15" serif:id="beam" d="M64.103,34.623c-2.7,0 -4.892,2.192 -4.892,4.892l-0,0.019c-0,2.699 2.192,4.891 4.892,4.891c2.699,0 4.891,-2.192 4.891,-4.891l0,-0.019c0,-2.7 -2.192,-4.892 -4.891,-4.892Z" style="fill:#fff;"/></g></g></g></svg>
    </template>
</a>

<script>
(function() {
    const LOCAL_STORAGE_KEY = 'piccoloThemeMode'

    var initialMode = localStorage.getItem(LOCAL_STORAGE_KEY)

    if (initialMode) {
        // Make sure the value in local storage is valid
        if (['light', 'dark', 'darkest'].indexOf(initialMode) == -1) {
            initialMode = 'light'
            localStorage.setItem(LOCAL_STORAGE_KEY, initialMode)
        }
    } else {
        // Check if the client prefers dark mode
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            initialMode = 'dark'
        } else {
            initialMode = 'light'
        }
        localStorage.setItem(LOCAL_STORAGE_KEY, initialMode)
    }

    document.documentElement.dataset.mode = initialMode

    PetiteVue.createApp({
        'mode': initialMode,
        handleClick() {
            let currentMode = this.mode

            if (currentMode == 'light') {
                this.mode = 'dark'
            } else if (currentMode == 'dark') {
                this.mode = 'darkest'
            } else if (currentMode == 'darkest') {
                this.mode = 'light'
            }

            document.documentElement.dataset.mode = this.mode
            localStorage.setItem(LOCAL_STORAGE_KEY, this.mode)

            console.log(this.mode)
        }
    }).mount('#mode_toggle')
})()
</script>
            <p class="mobile_search_link">
                <a href="../../search.html" title="Search">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 65 64" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2">
                        <path d="M14.873 40.009c-2.315-3.943-3.642-8.532-3.642-13.429C11.231 11.91 23.141 0 37.811 0s26.58 11.91 26.58 26.58-11.91 26.58-26.58 26.58a26.44 26.44 0 0 1-14.277-4.161L9.739 62.794a3.12 3.12 0 0 1-4.413 0L.913 58.382c-1.217-1.218-1.217-3.196 0-4.413l13.96-13.96zM37.811 8.054c10.225 0 18.526 8.301 18.526 18.526s-8.301 18.526-18.526 18.526-18.526-8.301-18.526-18.526S27.586 8.054 37.811 8.054z" fill="#fff" />
                    </svg>
                </a>
            </p>
        

        <div class="searchbox_wrapper">
            
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="提交" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
    </nav>
</div>

    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../base.html">基础总汇</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../config.html">组态编程</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">TIA Portal 组态软件操作</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../install.html">TIA Portal STEP 7 V18 安装</a></li>
<li class="toctree-l3"><a class="reference internal" href="01-New_Project.html">项目的新建</a></li>
<li class="toctree-l3"><a class="reference internal" href="02-CPU_Properties.html">CPU 参数属性配置</a></li>
<li class="toctree-l3"><a class="reference internal" href="03-ConfigFAQ.html">基本组态常见问题</a></li>
<li class="toctree-l3"><a class="reference internal" href="04-Download.html">项目的下载</a></li>
<li class="toctree-l3"><a class="reference internal" href="04-Download.html#id2">下载常见问题</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">S7-1200 下载但不重新初始化</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">设置块扩展的预留存储器</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">激活存储器预留区域</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id14">扩展块接口或数据块</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id18">禁用存储器预留区域</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id24">重置预留存储器</a></li>
<li class="toctree-l3"><a class="reference internal" href="06-detect_hardware.html">硬件检测</a></li>
<li class="toctree-l3"><a class="reference internal" href="07-upload_program.html">CPU程序的上载</a></li>
<li class="toctree-l3"><a class="reference internal" href="08-upload_station.html">站点的上载</a></li>
<li class="toctree-l3"><a class="reference internal" href="09-upload_compatibility.html">TIA Portal 版本和 CPU 中程序版本在上传时的兼容性</a></li>
<li class="toctree-l3"><a class="reference internal" href="10-update.html">项目升级</a></li>
<li class="toctree-l3"><a class="reference internal" href="11-Program_Update.html">更新程序</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../02-basic/index.html">编程基础</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03-instruction/index.html">编程指令</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../06-IO/index.html">IO 配线</a></li>
</ul>
</li>
</ul>

        </div>
      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="s7-1200">
<h1>S7-1200 下载但不重新初始化<a class="headerlink" href="#s7-1200" title="此标题的永久链接">¶</a></h1>
<section id="id1">
<h2>说明<a class="headerlink" href="#id1" title="此标题的永久链接">¶</a></h2>
<p>为了可以编辑已经过调试且在系统上正常运行的 PLC 程序，S7-1200 V4 及更高版本的 CPU 支持在运行时对FB块或数据块接口进行扩展。无需将 CPU 设置为 STOP 模式，即可下载已修改的块，而不会影响数据块其他的值。这是一种简单的更改程序的方式。这一加载过程（无需重新初始化的下载）不会对所控制的过程造成负面影响。</p>
</section>
<section id="id2">
<h2>工作原理<a class="headerlink" href="#id2" title="此标题的永久链接">¶</a></h2>
<p>原则上，每个FB块或数据块都默认有一个存储器预留区域，用于后续的接口更改。在初期并未使用该存储器中所预留的区域。如果确定在编译和下载块之后加载接口更改，则需激活存储器预留区域。之后声明的所有变量都将保存到存储器预留区域中。后续的下载不会影响已经加载变量的值。</p>
<p>如果决定稍后在工厂没有运转时修改程序，那么还可以一次性重置一个或多个块的存储器布局。通过该操作，可以将所有变量从预留区域移动到常规区域。预留存储器清除后，可供以后的接口扩展时使用。</p>
</section>
<section id="id3">
<h2>要求<a class="headerlink" href="#id3" title="此标题的永久链接">¶</a></h2>
<p>如果满足以下要求，1200 CPU 则可使用&quot;无需重新初始化的下载&quot;功能：</p>
<ul class="simple">
<li><p>1.使用 S7-1200 V4 及更高版本的 CPU。</p></li>
<li><p>2.FB块使用 LAD、FBD 或 SCL 创建。</p></li>
<li><p>3.DB块由用户创建。</p></li>
<li><p>4.FB或DB必须是&quot;优化访问&quot;。</p></li>
</ul>
</section>
<section id="id4">
<h2>基本步骤<a class="headerlink" href="#id4" title="此标题的永久链接">¶</a></h2>
<p>如果希望扩展FB块或数据块的接口，请执行以下步骤，然后在不重新初始化的情况下加载块。</p>
<ul class="simple">
<li><p>1.在默认情况下，所有块在非保持性存储器中都预留有一个100个字节的空间，并在需要时，可以调节存储器预留区域的大小或在保持性存储器中定义其它存储器预留区域。</p></li>
<li><p>2.激活存储器预留区域。</p></li>
<li><p>3.扩展块接口。</p></li>
<li><p>4.编译块。</p></li>
<li><p>5.将块下载到 CPU。</p></li>
</ul>
</section>
</section>
<section id="id5">
<h1>设置块扩展的预留存储器<a class="headerlink" href="#id5" title="此标题的永久链接">¶</a></h1>
<section id="id6">
<h2>简介<a class="headerlink" href="#id6" title="此标题的永久链接">¶</a></h2>
<p>基本上，每个FB块或数据块在默认情况下都预留了100个字节的区域。这一预留区域不在块的保持型存储区中。默认情况下，保持型存储区中没有提供预留区域，这是因为保持型存储器仅限 CPU 使用。</p>
<p>可以更改默认值100个字节，这适用于项目中所有新创建的块。此外，还可以单独更改特定块中预留区域的大小，并在保持型存储区中为特定块定义一个预留区域。</p>
</section>
<section id="id7">
<h2>设置新块中预留存储器的大小<a class="headerlink" href="#id7" title="此标题的永久链接">¶</a></h2>
<p>如果要在项目中为所有新创建的块设置预留存储器的大小，请按以下步骤操作：</p>
<ul class="simple">
<li><p>1.在&quot;选项&quot;菜单中，选择&quot;设置&quot;命令。将在工作区中显示&quot;设置&quot;窗口。</p></li>
<li><p>2.在区域导航中选择&quot;PLC 编程 &gt; 常规&quot;组。</p></li>
<li><p>3.在&quot;下载但不重新初始化&quot;组中，在&quot;存储器预留&quot;的输入框中输入为块接口进行后续扩展而分配的所需字节数。新创建的FB块和全局数据块现在获得了一个具有指定大小的预留存储器。 已经存在的块不受此次更改的影响。</p></li>
</ul>
<p>说明
此设置仅对支持&quot;下载但不重新初始化&quot;功能的块有效。 其它块不受此设置的影响。</p>
<p><img alt="" src="../../_images/5-1.jpg" /></p>
<p>图1.为所有新创建的块设置预留存储器的大小</p>
</section>
<section id="id8">
<h2>设置现有块中预留存储器的大小<a class="headerlink" href="#id8" title="此标题的永久链接">¶</a></h2>
<p>如果要设置现有块中预留存储器的大小，请按以下步骤操作：</p>
<ul class="simple">
<li><p>1.在项目树中选择该块。</p></li>
<li><p>2.右键快捷菜单中选择&quot;属性&quot;命令。将打开&quot;属性&quot;对话框。</p></li>
<li><p>3.在浏览区中选择&quot;下载但不重新初始化&quot;组。</p></li>
<li><p>4.在&quot;预留的存储空间大小&quot;输入框中输入所需的字节数。</p></li>
<li><p>5.如果要在保持型存储器中定义一个预留区域，请选择&quot;启用下载，但不重新初始化保持性变量&quot;复选框并在&quot;预留可保持性存储器&quot;输入框中输入所需的字节数。</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>如果已为当前块 <strong>激活了预留存储器</strong> ，那么无法再更改预留存储器的大小。</p>
</div>
<p><img alt="" src="../../_images/5-2.jpg" /></p>
<p>图2.设置现有块中预留存储器的大小</p>
</section>
</section>
<section id="id9">
<h1>激活存储器预留区域<a class="headerlink" href="#id9" title="此标题的永久链接">¶</a></h1>
<section id="id10">
<h2>简介<a class="headerlink" href="#id10" title="此标题的永久链接">¶</a></h2>
<p>每个FB块或数据块都被分配有一个默认存储器预留区域。但是，该存储器预留区域在初期并未使用。如果已编译且加载了块，然后希望稍后加载接口更改，那么请激活存储器预留区域。随后声明的所有变量都将保存到存储器预留区域中。</p>
</section>
<section id="id11">
<h2>要求<a class="headerlink" href="#id11" title="此标题的永久链接">¶</a></h2>
<ul class="simple">
<li><p>1.块目前已被编译。</p></li>
<li><p>2.块包含存储器预留区域。</p></li>
</ul>
</section>
<section id="id12">
<h2>步骤<a class="headerlink" href="#id12" title="此标题的永久链接">¶</a></h2>
<p>若要为FB块或全局数据块激活存储器预留区域，请按以下步骤操作：</p>
<ul class="simple">
<li><p>1.打开块。</p></li>
<li><p>2.选择工具栏上的&quot;下载但不重新初始化&quot;按钮。</p></li>
</ul>
</section>
<section id="id13">
<h2>结果<a class="headerlink" href="#id13" title="此标题的永久链接">¶</a></h2>
<ul class="simple">
<li><p>1.所有新声明的变量都将保存在存储器预留区域中，因此可以在不影响正在运行的进程的情况下进行下载。</p></li>
<li><p>2.无法再删除现有变量。 除了&quot;默认值&quot;、&quot;起始值&quot;和&quot;注释&quot;属性之外，其它属性均不得再进行更改。</p></li>
</ul>
<p><img alt="" src="../../_images/5-3.jpg" /></p>
<p>图3.激活存储器预留区域</p>
</section>
</section>
<section id="id14">
<h1>扩展块接口或数据块<a class="headerlink" href="#id14" title="此标题的永久链接">¶</a></h1>
<section id="id15">
<h2>简介<a class="headerlink" href="#id15" title="此标题的永久链接">¶</a></h2>
<p>在激活FB块或全局数据块的预留存储器之后，可添加新变量。</p>
</section>
<section id="id16">
<h2>要求<a class="headerlink" href="#id16" title="此标题的永久链接">¶</a></h2>
<p>预留存储器已激活。</p>
</section>
<section id="id17">
<h2>步骤<a class="headerlink" href="#id17" title="此标题的永久链接">¶</a></h2>
<p>要声明其它变量，请按以下步骤操作：</p>
<ul class="simple">
<li><p>1.选择声明部分，例如&quot;Input&quot;、“Output”、“InOut&quot;或&quot;Static”。</p></li>
<li><p>2.在所选区域中，声明一个或多个变量，并在列中输入其属性。在 FB 的&quot;保持性&quot;列中，只能在&quot;保持性&quot;和&quot;非保持性&quot;之间进行选择，预留存储器中无法使用选项&quot;在 IDB 中设置&quot;。无法在结构化数据类型变量中添加新的变量。例如：无法在现有结构中声明任何新的结构元素。 但是，可以在预留存储器中创建新结构。</p></li>
<li><p>3.编译发生变更的块，例如，在项目树中选择该块，然后在快捷菜单中选择命令&quot;编译 &gt; 软件（仅变更）&quot;。在编译期间，新声明的变量将插入到预留存储器中。 如果预留存储器过小，编译将终止，并显示一条错误消息，通知发生错误。</p></li>
<li><p>4.加载发生变更的块，例如，在项目树中选择该块，然后在快捷菜单中选择命令&quot;下载到设备 &gt; 软件（仅变更）&quot;。加载块扩展时，仅初始化定义有初始值的新加变量。并不会重新初始化现有在线变量。</p></li>
</ul>
<p><img alt="" src="../../_images/5-4.jpg" /></p>
<p>图4.如果预留存储器过小，编译将终止</p>
</section>
</section>
<section id="id18">
<h1>禁用存储器预留区域<a class="headerlink" href="#id18" title="此标题的永久链接">¶</a></h1>
<section id="id19">
<h2>简介<a class="headerlink" href="#id19" title="此标题的永久链接">¶</a></h2>
<p>为了稍后在工厂尚未运转时修改块的存储器布局，可以禁用预留存储器。通过此操作，可以将所有变量从预留区域移动到常规区域。预留存储器仍然存在，可供之后进行接口扩展时使用。并再次具有块属性中所定义的空间大小。</p>
</section>
<section id="id20">
<h2>说明<a class="headerlink" href="#id20" title="此标题的永久链接">¶</a></h2>
<p>请注意，在禁用预留存储器之后，需要对块进行编译并再次加载。 在禁用存储器预留区域后，无法执行&quot;无需重新初始化的下载&quot;。</p>
</section>
<section id="id21">
<h2>要求<a class="headerlink" href="#id21" title="此标题的永久链接">¶</a></h2>
<p>块中的预留存储器已激活。</p>
</section>
<section id="id22">
<h2>步骤<a class="headerlink" href="#id22" title="此标题的永久链接">¶</a></h2>
<p>如果要激活FB块或全局数据块的预留存储器，请按以下步骤操作：</p>
<ul class="simple">
<li><p>1.打开块。</p></li>
<li><p>2.选择工具栏上的&quot;下载但不重新初始化&quot;按钮。</p></li>
</ul>
</section>
<section id="id23">
<h2>结果<a class="headerlink" href="#id23" title="此标题的永久链接">¶</a></h2>
<p>通过此操作，可以将之前位于预留区域的所有变量都移动到常规区域。因此，需要对块进行编译并再次加载，CPU 中变量的值在加载期间重新初始化。</p>
<p><img alt="" src="../../_images/5-5.jpg" /></p>
<p>图5.取消存储器预留区域</p>
</section>
</section>
<section id="id24">
<h1>重置预留存储器<a class="headerlink" href="#id24" title="此标题的永久链接">¶</a></h1>
<section id="id25">
<h2>简介<a class="headerlink" href="#id25" title="此标题的永久链接">¶</a></h2>
<p>如果决定稍后在工厂尚未运转时修改程序，那么可以一次性重置块的存储器布局。通过此操作，可以将所有变量从预留存储器移动到常规存储区域中。预留存储器清除后，可供以后的接口扩展时使用。</p>
</section>
<section id="id26">
<h2>要求<a class="headerlink" href="#id26" title="此标题的永久链接">¶</a></h2>
<ul class="simple">
<li><p>1.块中的预留存储器已激活。</p></li>
<li><p>2.预留存储器包含有变量。</p></li>
</ul>
</section>
<section id="id27">
<h2>步骤<a class="headerlink" href="#id27" title="此标题的永久链接">¶</a></h2>
<p>要重置一个或多个块的预留存储器，请按以下步骤操作：</p>
<ul class="simple">
<li><p>1.选择&quot;程序块&quot;文件夹，或该文件夹中的特定块。</p></li>
<li><p>2.在快捷菜单中，选择&quot;编译 &gt; 软件（复位存储器预留区域）&quot;命令。</p></li>
</ul>
</section>
<section id="id28">
<h2>结果<a class="headerlink" href="#id28" title="此标题的永久链接">¶</a></h2>
<p>之前位于预留存储器中所选块的所有变量，都从此区域移动到常规区域中。块已经过重新编译。变量在下一次加载期间重新初始化。块中所组态的预留存储器将保留，且继续保持活动状态。</p>
<p><img alt="" src="../../_images/5-6.jpg" /></p>
<p>图6.重置预留存储器</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>重置预留存储器时，在预留存储器中之前设置的所有变量都将在下次加载时 <strong>重新初始化</strong> 。 这适用于保持性和非保持性变量。</p>
<p>在工厂运行期间，更改变量值将导致严重的财产损失和人身伤害！ 因此，在重置预留存储器后必须先在测试环境中进行全面彻底地程序检查之后，才能使用.</p>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
    
        <div id="show_right_sidebar">
            <p><a class="toggle_right_sidebar" href="#"><span class="icon">&lt;</span><span>Page contents</span></a></p>
        </div>

        <div id="right_sidebar">
            <p><a class="toggle_right_sidebar" href="#"><span class="icon">&gt;</span><span>Page contents:</span></a></p>
            <div class="page_toc">
                <ul>
<li><a class="reference internal" href="#">S7-1200 下载但不重新初始化</a><ul>
<li><a class="reference internal" href="#id1">说明</a></li>
<li><a class="reference internal" href="#id2">工作原理</a></li>
<li><a class="reference internal" href="#id3">要求</a></li>
<li><a class="reference internal" href="#id4">基本步骤</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id5">设置块扩展的预留存储器</a><ul>
<li><a class="reference internal" href="#id6">简介</a></li>
<li><a class="reference internal" href="#id7">设置新块中预留存储器的大小</a></li>
<li><a class="reference internal" href="#id8">设置现有块中预留存储器的大小</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id9">激活存储器预留区域</a><ul>
<li><a class="reference internal" href="#id10">简介</a></li>
<li><a class="reference internal" href="#id11">要求</a></li>
<li><a class="reference internal" href="#id12">步骤</a></li>
<li><a class="reference internal" href="#id13">结果</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id14">扩展块接口或数据块</a><ul>
<li><a class="reference internal" href="#id15">简介</a></li>
<li><a class="reference internal" href="#id16">要求</a></li>
<li><a class="reference internal" href="#id17">步骤</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id18">禁用存储器预留区域</a><ul>
<li><a class="reference internal" href="#id19">简介</a></li>
<li><a class="reference internal" href="#id20">说明</a></li>
<li><a class="reference internal" href="#id21">要求</a></li>
<li><a class="reference internal" href="#id22">步骤</a></li>
<li><a class="reference internal" href="#id23">结果</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id24">重置预留存储器</a><ul>
<li><a class="reference internal" href="#id25">简介</a></li>
<li><a class="reference internal" href="#id26">要求</a></li>
<li><a class="reference internal" href="#id27">步骤</a></li>
<li><a class="reference internal" href="#id28">结果</a></li>
</ul>
</li>
</ul>

            </div>
        </div>
    

      <div class="clearer"></div>
    </div>
    <div class="button_nav_wrapper">
        <div class="button_nav">
            <div class="left">
                
                <a href="04-Download.html">
                    <span class="icon">&lt;</span><span>项目的下载</span></a>
                
            </div>

            <div class="right">
                
                    <a href="06-detect_hardware.html"><span>硬件检测</span><span class="icon">&gt;</span></a>
                
            </div>
        </div>
    </div>


    <div class="footer" role="contentinfo">
    &#169; 版权所有 2024, 宁波双紫信息科技有限公司.
      最后更新于 8月 24, 2024.
      由 <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2创建。
    </div>

<p id="theme_credit">Styled using the <a href="https://github.com/piccolo-orm/piccolo_theme">Piccolo Theme</a></p>
  </body>
</html>